![introduce](https://socialify.git.ci/gucooing/BaPs/image?description=1&font=Source+Code+Pro&forks=1&issues=1&language=1&name=1&owner=1&pattern=Plus&pulls=1&stargazers=1&theme=Light)

# BaPs 🎮

#### [English](README_EN.md)

#### This fork is a fork of the original project with various patches in the spirit of open-source
#### This fork is made under the platform license grant to all GitHub users by public repositories, relevant legal information GitHub Terms of Service §C.5
#### The original project has major problems with the legality of its "terms of service" or license. It contains clauses that are not enforceable in a court of law, but rather only by blackmail, public shaming, or doxxing. Specifically:
  - > 严禁在中国大陆地区的任何公共或私有平台上传、分享或宣传本项目的源码、编译文件、部署教程、截图、演示视频等相关内容；
    > 若发现违规传播行为，作者有权采取封禁、公开拉黑等措施。

  - This above clause stopping the advertising (and distribution) of the source code is largely unenforceable, and the specified actions likely falls under fair use. As laid out in the platform agreement for public repositories (TOS §C.5), non-exclusive, unrevokable rights to distribute the code using GitHub features are granted to all users. Simply sharing some public GitHub link does not constitute a violation of applicable Fair Use law. Content generated by users, such as tutorials, further fall under the Fair Use category. The author has no legal ground, such as Non-Disclosure Agreements (NDAs), that allows the author to stop original work produced from other users. Thus, such clauses are null and void in a court of law. However, the author does have one part of the clause active, the part that stops the distribution (by uploading) of binaries and source code on Chinese platforms. As such, this fork will not distribute binaries or anything of the kind otherwise due to legality issues. Users are urged to build from source.

- > 禁止开服
严禁使用本项目进行任何形式的私服搭建，包括但不限于公网开服、内网搭建、测试服部署；
  > 无论是否收费、是否开放给他人使用，均视为违反本协议；
  > 一经发现，作者将永久停止支持，并可能公开违规行为及其责任人信息。

- It is unclear the legality of this clause under commercial use. However, this clause is unenforceable and is null and void in a court of law for users that are using it on a personal, noncommercial scale. The clause is only enforceable by blackmail, threatening a maintainance/support stop and public shaming/doxxing. Doxxing is, of course, against the law, both in the juristiction of China and the United States. Applicable violations of Chinese law include 非法获取、使用、传播个人信息 (Illegal use of personal information). No contract is valid legal tenure if its terms do not obey law.

- > 协议更新
  > 本协议可随时更新，使用即视为接受协议的所有内容及后续变更。

- One-sided license changes are not enforceable unless explictly agreed upon. The vague clauses that do not even come in a dedicated license file are not proper notice or legal agreements, and thus are null and void in a court of law.


#### Due to various issues, mostly the original author's issue with people being able to access and run information from the original public project easily. As such, the original author has used various forms of encryption and data gatekeeping to gatekeep builds. (Specifically, there is special data encryption and other processing functions such as mx.DeExcelBytes, which are private and not present in the source code. This was not present at the start of the project)

### Terms the original project was under
> ⚠️ 项目仅供学习用途，严禁用于商业用途，请于24小时内删除。

# 仅供学习用途，严禁用于商业用途，请于24小时内删除！！！

> 🌟 由于是无状态设计,所以对内存的要求会略高
  
> 📅 当前支持版本：Japan

## 📍Discord

#### Do not contact this discord for support regarding this fork. This fork is unaffliated with the original author, and you shouldn't bother the original author with issues from this fork. 

[![Discord](https://img.shields.io/badge/Join-Discord-blue?logo=discord&logoSize=auto)](https://discord.gg/222yVp6pUq)


---
## 🚀 已实现功能
```
- 登录  
- 新手教程  
- 队伍管理  
- 抽卡  
- 剧情 待测试  
- 账号基础管理  
- MomoTalk  
- 邮件 全局/私人 收发管理  
- 角色养成管理  
- 背包管理  
- 副本 - 悬赏通缉 / 特别依赖 / 学院交流会 / 综合战术考试  
- 可恢复品自动恢复  
- 咖啡厅  
- 好友管理  
- 课程表  
- 社团  
- 战斗援助  
- 总力战  
- 彩奈登录奖励  
- 制约解除决战  
- 大决战  
- 商店
- 角色好感系统
- 竞技场
- 贴纸
```
---
## 🛠️ 使用方法

#### The user is encouraged to compile from source. Check out build workflows for an idea on what to do.
#### For resources to generate Excel.bin, run fetch_resources.sh (only Linux and WSL2 is supported at this time)

---

## ⚙️ 配置说明
>需要注意的是,实际的json文件中不能存在注释
```json
{
  "LogLevel": "info",
  "ResourcesPath": "./resources", // 发行版无用
  "DataPath": "./data",
  "GucooingApiKey": "123456", // 使用api时验证身份的key
  "AutoRegistration": true, // 是否自动注册
  "Tutorial": false, // 是否开启教程-不完善
  "OtherAddr": {
    "ServerInfoUrl": "https://yostar-serverinfo.bluearchiveyostar.com", // 上游服务器地址 如果值为: 'local' 时使用本地文件
    "ManagementDataUrl": "https://prod-noticeindex.bluearchiveyostar.com/prod/index.json" // 公告地址
  },
  "HttpNet": {
    "InnerIp": "0.0.0.0", // 监听IP
    "InnerPort": "5000", // 监听端口
    "OuterAddr": "http://127.0.0.1:5000", // 外网地址
    "Tls": false, // 是否启用ssl
    "CertFile": "./data/cert.pem",
    "KeyFile":   "./data/key.pem",
    "Encoding": true // 是否压缩数据包
  },
  "GateWay": {
    "MaxPlayerNum": 0, // 最大在线玩家数
    "MaxCachePlayerTime": 720, // 最大玩家缓存时间
    "BlackCmd": {}, // 发行版无用
    "IsLogMsgPlayer": true // 发行版无用
  },
  "DB": {
    "dbType": "sqlite", // 使用的数据库类型,支持sqlite和mysql
    "dsn": "BaPs.db" // 数据库地址,如果是mysql请填写mysql url
  },
  "RaidRankDB": {
    "dbType": "sqlite", // 使用的数据库类型,支持sqlite和mysql
    "dsn": "Rank.db" // 数据库地址,如果是mysql请填写mysql url
  },
  "Irc": { // 可使用通用irc服务器地址
    "HostAddress": "127.0.0.1", // 社团聊天服务器irc地址
    "Port": 16666, // 社团聊天服务器irc端口
    "Password": "mx123" // 社团聊天服务器irc密码
  }
}
```
---

## 🌐 代理设置
转代以下地址:其中 http://127.0.0.1:5000 为服务器地址
```plaintext
https://ba-jp-sdk.bluearchive.jp  →  http://127.0.0.1:5000
https://yostar-serverinfo.bluearchiveyostar.com → http://127.0.0.1:5000
```

### ⛓️代理方案

可前往以下docs查看
- [Android_MitmProxy代理方案](Android_Mitmproxy_Readme_ZH.md)

---

## ⌨️ GM工具

1. 需要注意的是此GM已近乎不可用 [BlueArchiveGM](https://github.com/PrimeStudentCouncil/BlueArchiveGM/releases/latest);web版: [BlueArchiveGM Web](https://gm.bluearchive.cc)
2. 我们欢迎更多开发者开发适用于BaPs的GM

---
## 🤝 参与贡献
我们欢迎所有想帮助我们的人加入，可通过以下方式进行帮助我们：
- 🐛 提交Issue报告问题
- 💡 提交Pull Request改进代码
- 📖 完善项目文档
- 🚀 加入Discord频道为我们提供建议
---

## ⚠️ 注意事项
1. 由于版权原因，dev使用的resources我们不会公开
2. 由于版权原因，部分源代码将不会被公开，但我们可以保证非公开部分代码无任何恶意内容
3. 玩家数据并不会实时保存到数据库中,如果有最新数据的需求,可通过api进行访问玩家数据
4. 该项目不支持,也不会适配32位系统

---
## 🤜 感谢名单

- 感谢 [zset](https://github.com/liyiheng/zset) 以此为基础实现排行榜
